{"version":3,"file":"static/webpack/static/development/pages/index.js.0d1b16183d96ea275f5b.hot-update.js","sources":["webpack:///./components/Player.js"],"sourcesContent":["import { useRef, useState } from 'react';\nimport Slider from 'rc-slider';\nimport YouTube from 'react-youtube';\nimport {\n  FaSpinner,\n  FaPlay,\n  FaPause,\n  FaStepBackward,\n  FaStepForward,\n} from 'react-icons/fa';\nimport { TiArrowShuffle } from 'react-icons/ti';\nimport { FiRepeat } from 'react-icons/fi';\n\nconst opts = {\n  height: '0',\n  width: '0',\n  playerVars: {\n    autoplay: 1,\n  },\n};\n\nconst YT_STATE = {\n  UNSTARTED: -1,\n  ENDED: 0,\n  PLAYING: 1,\n  PAUSED: 2,\n  BUFFERING: 3,\n  CUED: 5,\n};\n\nconst renderPlayButton = (state, ref) => {\n  const classes = 'mx-4 cursor-pointer text-white';\n  switch (state) {\n    case YT_STATE.PLAYING:\n      return (\n        <FaPause\n          className={classes}\n          onClick={() => {\n            ref.current.internalPlayer.pauseVideo();\n          }}\n        ></FaPause>\n      );\n    case YT_STATE.PAUSED:\n      return (\n        <FaPlay\n          className={classes}\n          onClick={() => {\n            ref.current.internalPlayer.playVideo();\n          }}\n        ></FaPlay>\n      );\n    default:\n      return (\n        <FaSpinner className=\"pointer-events-none mx-4 text-white icon-spin\"></FaSpinner>\n      );\n  }\n};\n\nconst Player = (props) => {\n  const ref = useRef();\n\n  const [isRepeat, setIsRepeat] = useState(false);\n  const [isShuffle, setIsShuffle] = useState(false);\n  const [ytState, setYtState] = useState(YT_STATE.UNSTARTED);\n\n  const onStateChange = (event) => {\n    if (event.data === YT_STATE.ENDED) {\n      props.setSongIndex(props.songIndex + 1);\n    }\n    setYtState(event.data);\n  };\n\n  return (\n    <>\n      <YouTube\n        ref={ref}\n        videoId={props.id}\n        opts={opts}\n        onStateChange={onStateChange}\n      />\n      <div className=\"ml-16 flex\">\n        <div className=\"flex items-center\">\n          <FiRepeat\n            className={`mx-4 cursor-pointer ${\n              isRepeat ? 'text-primary' : 'text-white'\n            }`}\n            onClick={() => {\n              setIsRepeat(!isRepeat);\n            }}\n          />\n          <FaStepBackward className=\"mx-4 cursor-pointer text-white\" />\n          {renderPlayButton(ytState, ref)}\n          <FaStepForward className=\"mx-4 cursor-pointer text-white\" />\n          <TiArrowShuffle\n            className={`mx-4 cursor-pointer text-xl ${\n              isShuffle ? 'text-primary' : 'text-white'\n            }`}\n            onClick={() => {\n              setIsShuffle(!isShuffle);\n            }}\n          />\n        </div>\n        <div>\n          <Slider min={0} max={100} defaultValue={3} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Player;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAHA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AArBA;AAwBA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}